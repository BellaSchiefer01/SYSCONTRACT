<!DOCTYPE html>
<html lang="pt-BR">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador de Contratos</title>
    
    <!-- Bootstrap e ícones -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- Arquivo de estilos customizados -->
    <link rel="stylesheet" href="{% static 'css/style-gerenciador.css' %}">

    <!-- Ajuste para desativar barra de rolagem horizontal -->
    <style>
        body {
            overflow-x: hidden; /* Desativa o overflow horizontal */
        }
        .table-responsive {
            max-width: 100%; /* Garante que a tabela não ultrapasse a largura */
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <!-- Menu lateral ajustado -->
    <nav class="menu-lateral" style="background-color: #b41fff; color: #fff; height: 100vh; position: fixed; width: 250px; padding: 20px; display: flex; flex-direction: column; justify-content: flex-start; align-items: center;">
        <a class="navbar-brand mb-4" href="{% url 'inicio' %}">
            <img src="{% static 'img/logo.png' %}" alt="Logo" height="100" width="200">
        </a>
        <ul class="navbar-nav flex-column w-100">
            <li class="nav-item">
                <a class="nav-link" href="{% url 'dashboard' %}" style="color: #fff;">
                    <i class="bi bi-columns-gap"></i> Dashboard
                </a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="{% url 'cadastro' %}" style="color: #fff;">
                    <i class="bi bi-clipboard2-plus"></i> Cadastro
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'clientes' %}" style="color: #fff;">
                    <i class="bi bi-person-vcard"></i> Cliente
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'contrato' %}" style="color: #fff;">
                    <i class="bi bi-file-arrow-up"></i> Contrato
                </a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="{% url 'gerenciador' %}" style="color: #fff;">
                    <i class="bi bi-database-check"></i> Gerenciador
                </a>
            </li>
            <li class="nav-item mt-auto">
                <a class="nav-link text-danger" href="{% url 'login' %}">
                    <i class="bi bi-x-square"></i> Log Out
                </a>
            </li>
        </ul>
    </nav>
    
    <!-- Conteúdo principal -->
    <div class="container-fluid" style="margin-left: 270px; padding-top: 20px;"> <!-- Ajuste de margem para afastar o conteúdo da barra lateral -->
        <div class="row">
            <!-- Pesquisa -->
            <div class="col-12 d-flex justify-content-center mt-4">
                <div class="input-group mb-3 w-50">
                    <input type="text" class="form-control" placeholder="Pesquisar" aria-label="Pesquisar">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="button">
                            <img src="{% static 'img/pesquisar-black.svg' %}" alt="Pesquisar" width="25px" height="25px">
                        </button>
                    </div>
                </div>
            </div>

            <!-- Tabela de Contratos -->
            <div class="col-12">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered">
                        <caption>Contratos Gerados</caption>
                        <thead class="thead-dark">
                            <tr>
                                <th>ID</th>
                                <th>Nome Aluno</th>
                                <th>E-mail Aluno</th>
                                <th>Telefone Aluno</th>
                                <th>Data Nascimento Aluno</th>
                                <th>Instituição Escolar</th>
                                <th>Série Escolar</th>
                                <th>Sexo Aluno</th>
                                <th>Endereço</th>
                                <th>Número</th>
                                <th>Complemento</th>
                                <th>Cidade</th>
                                <th>Bairro</th>
                                <th>CEP</th>
                                <th>Nome Responsável</th>
                                <th>CPF Responsável</th>
                                <th>RG Responsável</th>
                                <th>E-mail Responsável</th>
                                <th>Telefone Responsável</th>
                                <th>Data Nascimento Responsável</th>
                                <th>Profissão</th>
                                <th>Sexo Responsável</th>
                                <th>Data de Cadastro</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for cliente in clientes %}
                                <tr>
                                    <td>{{ cliente.id }}</td>
                                    <td>{{ cliente.nome_completo }}</td>
                                    <td>{{ cliente.email }}</td>
                                    <td>{{ cliente.telefone }}</td>
                                    <td>{{ cliente.data_nascimento }}</td>
                                    <td>{{ cliente.instituicao_escolar }}</td>
                                    <td>{{ cliente.serie }}</td>
                                    <td>{{ cliente.sexo }}</td>
                                    <td>{{ cliente.endereco }}</td>
                                    <td>{{ cliente.numero }}</td>
                                    <td>{{ cliente.complemento }}</td>
                                    <td>{{ cliente.cidade }}</td>
                                    <td>{{ cliente.regiao }}</td>
                                    <td>{{ cliente.cep }}</td>
                                    <td>{{ cliente.nome_responsavel }}</td>
                                    <td>{{ cliente.cpf_responsavel }}</td>
                                    <td>{{ cliente.rg_responsavel }}</td>
                                    <td>{{ cliente.email_responsavel }}</td>
                                    <td>{{ cliente.telefone_responsavel }}</td>
                                    <td>{{ cliente.data_nascimento_responsavel }}</td>
                                    <td>{{ cliente.profissao_responsavel }}</td>
                                    <td>{{ cliente.sexo_responsavel }}</td>
                                    <td>{{ cliente.created_at }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>                                   
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts do Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
